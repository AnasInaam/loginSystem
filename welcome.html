<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Welcome - Dashboard</title>
    <link rel="stylesheet" type="text/css" href="welcome.css">
</head>

<body>
    <div class="main-class">
        <div class="bar-class">
            <div class="main-bar-home-class">HOME</div>
            <div class="main-bar-menu-class">
                <div class="menu">About</div>
                <div class="menu">Privacy</div>
                <div class="menu">Features</div>
                <div class="menu">Contact</div>
                <div class="menu">
                    <button class="button-class" onclick="logout()">Logout</button>
                </div>
            </div>
        </div>
        <div class="login-info-class">
            <div class="login-class">
                <div class="welcome-class">
                    WELCOME, <span id="userName">User</span>!
                </div>
                <div class="searchbar">
                    <div class="bar"><input class="bar-input" type="text" title="Search" placeholder="Search..."></div>
                    <div class="voice-class"><a href="#"> <img class="voice"
                                src="https://upload.wikimedia.org/wikipedia/commons/thumb/e/e8/Google_mic.svg/716px-Google_mic.svg.png"
                                title="Search by Voice"></a> </div>
                </div>
                <div class="more-see-class">
                    <button onclick="showUserProfile()" style="margin-right: 10px; padding: 5px 10px;">View Profile</button>
                    <button onclick="showDashboard()">Dashboard</button>
                </div>
            </div>
            <div class="info-class">
                <div class="main-landing-class">
                    <div class="landing-page-class">Dashboard</div>
                    <div class="landing-info-class" id="dashboardContent">
                        <h3>Welcome to Your Dashboard!</h3>
                        <p>This is your personal dashboard where you can manage your account and access various features.</p>
                        
                        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px; margin-top: 20px;">
                            <div style="background: #f8f9fa; padding: 20px; border-radius: 8px; border-left: 4px solid #007bff;">
                                <h4>Profile Information</h4>
                                <p>Manage your personal information and account settings.</p>
                                <button onclick="showUserProfile()" style="background: #007bff; color: white; border: none; padding: 8px 16px; border-radius: 4px; cursor: pointer;">View Profile</button>
                            </div>
                            
                            <div style="background: #f8f9fa; padding: 20px; border-radius: 8px; border-left: 4px solid #28a745;">
                                <h4>Activity Log</h4>
                                <p>Track your recent activities and login history.</p>
                                <button onclick="showActivity()" style="background: #28a745; color: white; border: none; padding: 8px 16px; border-radius: 4px; cursor: pointer;">View Activity</button>
                            </div>
                            
                            <div style="background: #f8f9fa; padding: 20px; border-radius: 8px; border-left: 4px solid #ffc107;">
                                <h4>Settings</h4>
                                <p>Customize your experience and manage preferences.</p>
                                <button onclick="showSettings()" style="background: #ffc107; color: #212529; border: none; padding: 8px 16px; border-radius: 4px; cursor: pointer;">Open Settings</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Check if user is logged in
        function checkAuth() {
            const currentUser = JSON.parse(localStorage.getItem('currentUser'));
            if (!currentUser) {
                alert('Please login first');
                window.location.href = 'index.html';
                return null;
            }
            return currentUser;
        }

        // Initialize page
        function initPage() {
            const user = checkAuth();
            if (user) {
                document.getElementById('userName').textContent = user.name;
                updateLastLogin();
            }
        }

        // Update last login time
        function updateLastLogin() {
            const now = new Date();
            localStorage.setItem('lastLogin', now.toISOString());
        }

        // Logout function
        function logout() {
            localStorage.removeItem('currentUser');
            alert('You have been logged out successfully');
            window.location.href = 'index.html';
        }

        // Show user profile
        function showUserProfile() {
            const user = checkAuth();
            if (!user) return;
            
            const lastLogin = localStorage.getItem('lastLogin');
            const loginTime = lastLogin ? new Date(lastLogin).toLocaleString() : 'Never';
            
            document.getElementById('dashboardContent').innerHTML = `
                <h3>User Profile</h3>
                <div style="background: #f8f9fa; padding: 20px; border-radius: 8px; max-width: 500px;">
                    <div style="margin-bottom: 15px;">
                        <strong>User ID:</strong> ${user.id}
                    </div>
                    <div style="margin-bottom: 15px;">
                        <strong>Name:</strong> ${user.name}
                    </div>
                    <div style="margin-bottom: 15px;">
                        <strong>Email:</strong> ${user.email}
                    </div>
                    <div style="margin-bottom: 15px;">
                        <strong>Last Login:</strong> ${loginTime}
                    </div>
                    <div style="margin-bottom: 15px;">
                        <strong>Account Created:</strong> ${new Date(user.id).toLocaleString()}
                    </div>
                    <button onclick="showDashboard()" style="background: #6c757d; color: white; border: none; padding: 8px 16px; border-radius: 4px; cursor: pointer;">Back to Dashboard</button>
                </div>
            `;
        }

        // Show activity log
        function showActivity() {
            const activities = [
                { action: 'Login', time: new Date().toLocaleString(), status: 'Success' },
                { action: 'Profile View', time: new Date(Date.now() - 300000).toLocaleString(), status: 'Success' },
                { action: 'Dashboard Access', time: new Date(Date.now() - 600000).toLocaleString(), status: 'Success' }
            ];
            
            document.getElementById('dashboardContent').innerHTML = `
                <h3>Activity Log</h3>
                <div style="background: #f8f9fa; padding: 20px; border-radius: 8px;">
                    <table style="width: 100%; border-collapse: collapse;">
                        <thead>
                            <tr style="background: #e9ecef;">
                                <th style="padding: 10px; text-align: left; border: 1px solid #dee2e6;">Action</th>
                                <th style="padding: 10px; text-align: left; border: 1px solid #dee2e6;">Time</th>
                                <th style="padding: 10px; text-align: left; border: 1px solid #dee2e6;">Status</th>
                            </tr>
                        </thead>
                        <tbody>
                            ${activities.map(activity => `
                                <tr>
                                    <td style="padding: 10px; border: 1px solid #dee2e6;">${activity.action}</td>
                                    <td style="padding: 10px; border: 1px solid #dee2e6;">${activity.time}</td>
                                    <td style="padding: 10px; border: 1px solid #dee2e6; color: ${activity.status === 'Success' ? '#28a745' : '#dc3545'};">${activity.status}</td>
                                </tr>
                            `).join('')}
                        </tbody>
                    </table>
                    <button onclick="showDashboard()" style="background: #6c757d; color: white; border: none; padding: 8px 16px; border-radius: 4px; cursor: pointer; margin-top: 15px;">Back to Dashboard</button>
                </div>
            `;
        }

        // Show settings
        function showSettings() {
            document.getElementById('dashboardContent').innerHTML = `
                <h3>Settings</h3>
                <div style="background: #f8f9fa; padding: 20px; border-radius: 8px; max-width: 500px;">
                    <div style="margin-bottom: 20px;">
                        <h4>Account Settings</h4>
                        <label style="display: block; margin-bottom: 10px;">
                            <input type="checkbox" checked> Email notifications
                        </label>
                        <label style="display: block; margin-bottom: 10px;">
                            <input type="checkbox"> SMS notifications
                        </label>
                        <label style="display: block; margin-bottom: 10px;">
                            <input type="checkbox" checked> Remember login
                        </label>
                    </div>
                    <div style="margin-bottom: 20px;">
                        <h4>Theme</h4>
                        <select style="padding: 5px; border-radius: 4px; border: 1px solid #ddd;">
                            <option>Light Theme</option>
                            <option>Dark Theme</option>
                            <option>Auto</option>
                        </select>
                    </div>
                    <button onclick="alert('Settings saved!')" style="background: #28a745; color: white; border: none; padding: 8px 16px; border-radius: 4px; cursor: pointer; margin-right: 10px;">Save Changes</button>
                    <button onclick="showDashboard()" style="background: #6c757d; color: white; border: none; padding: 8px 16px; border-radius: 4px; cursor: pointer;">Back to Dashboard</button>
                </div>
            `;
        }

        // Show main dashboard
        function showDashboard() {
            document.getElementById('dashboardContent').innerHTML = `
                <h3>Welcome to Your Dashboard!</h3>
                <p>This is your personal dashboard where you can manage your account and access various features.</p>
                
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px; margin-top: 20px;">
                    <div style="background: #f8f9fa; padding: 20px; border-radius: 8px; border-left: 4px solid #007bff;">
                        <h4>Profile Information</h4>
                        <p>Manage your personal information and account settings.</p>
                        <button onclick="showUserProfile()" style="background: #007bff; color: white; border: none; padding: 8px 16px; border-radius: 4px; cursor: pointer;">View Profile</button>
                    </div>
                    
                    <div style="background: #f8f9fa; padding: 20px; border-radius: 8px; border-left: 4px solid #28a745;">
                        <h4>Activity Log</h4>
                        <p>Track your recent activities and login history.</p>
                        <button onclick="showActivity()" style="background: #28a745; color: white; border: none; padding: 8px 16px; border-radius: 4px; cursor: pointer;">View Activity</button>
                    </div>
                    
                    <div style="background: #f8f9fa; padding: 20px; border-radius: 8px; border-left: 4px solid #ffc107;">
                        <h4>Settings</h4>
                        <p>Customize your experience and manage preferences.</p>
                        <button onclick="showSettings()" style="background: #ffc107; color: #212529; border: none; padding: 8px 16px; border-radius: 4px; cursor: pointer;">Open Settings</button>
                    </div>
                </div>
            `;
        }

        // Initialize page on load
        window.onload = initPage;
    </script>
</body>

</html>